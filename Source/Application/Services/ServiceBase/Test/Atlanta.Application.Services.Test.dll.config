<configuration>

    <configSections>
        <section name="nhibernate" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0,Culture=neutral, PublicKeyToken=b77a5c561934e089"/>

        <sectionGroup name="spring">
              <section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core" />
              <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core" />
        </sectionGroup>
    </configSections>

    <nhibernate>
        <add key="hibernate.connection.provider"            value="NHibernate.Connection.DriverConnectionProvider"/>
        <add key="hibernate.dialect"                        value="NHibernate.Dialect.FirebirdDialect"/>
        <add key="hibernate.connection.driver_class"        value="NHibernate.Driver.FirebirdClientDriver"/>
        <add key="hibernate.connection.connection_string"   value="User=SYSDBA;Password=masterkey;Database=../LendingLibrary.fdb;ServerType=1;"/>
        <add key="hibernate.show_sql"                       value="false"/>
    </nhibernate>

    <spring>
    
        <context>
            <resource uri="config://spring/objects" />
        </context>

        <objects xmlns="http://www.springframework.net">

            <object id="beforeAdvice" type="Atlanta.Application.Services.ServiceBase.AopBeforeAdvice" />

            <object id="MediaService" type="Spring.Aop.Framework.ProxyFactoryObject, Spring.Aop">
                <property name="Target">
                    <object type="Atlanta.Application.Services.Lending.MediaService, Atlanta.Application.Services" />
                </property>
                <property name="InterceptorNames">
                    <list>
                        <value>beforeAdvice</value>
                    </list>
                </property>
            </object>
    
        </objects>

    </spring>

</configuration>

